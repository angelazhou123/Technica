<!DOCTYPE html>
<html lang="en">
<link rel="icon" href="teddy_bear_icon.png" type="image/png" sizes="16x16">
<title>Toy Donation Map</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="https://js.api.here.com/v3/3.0/mapsjs-ui.css?dp-version=1533195059" />
<script type="text/javascript" src="https://js.api.here.com/v3/3.0/mapsjs-core.js"></script>
<script type="text/javascript" src="https://js.api.here.com/v3/3.0/mapsjs-service.js"></script>
<script type="text/javascript" src="https://js.api.here.com/v3/3.0/mapsjs-ui.js"></script>
<script type="text/javascript" src="https://js.api.here.com/v3/3.0/mapsjs-mapevents.js"></script>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
    body {font-family: "Lato", sans-serif}
    .mySlides {display: none}

    body{
        background-color:#f5f5f5;
    }
    .container{
        margin:0 auto;
        min-height:100vh;
        display:flex;
        max-width:500px;
        flex-direction:column;
        justify-content: center;
        align-items: center;
    }
    h1{
        color:#ddd;
    }

    img{
        max-width : 300px;
        height : auto;
    }
    .results{
        display:flex;
        flex-wrap:wrap;
        justify-content:center;
    }
    span{
        display:inline-block;
        background-color:#ededed;
        color:#999;
        border-radius:24px;
        margin:6px;
        padding:6px;
    }
    form{
        display:flex;
        width:100%;
        max-width:300px;
        flex-direction:column;
        justify-content:center;
        margin-bottom:12px;
    }
    input{
        width:100%;
        border:none;
        border-bottom: 2px solid #ccc;
        background-color:transparent;
        margin-bottom:6px;
    }
    button{
        background-color:#27ae60;
        outline:none;
        border:none;
        padding:6px;
        color:#fff;
        border-radius:4px;
    }
</style>
<body>

<!-- Navbar -->
<nav id="section-menu">
    <ul></ul>
</nav>
<div class="w3-top">
    <section id="section-one" class="section scroll-item" title="One">
        <div class="w3-bar w3-black w3-card">
            <a class="w3-bar-item w3-button w3-padding-large w3-hide-medium w3-hide-large w3-right"
               href="javascript:void(0)" title="Toggle Navigation Menu"><i class="fa fa-bars"></i></a>
            <section id="section-one" class="section scroll-item" title="One">
                <a href="#" class="w3-bar-item w3-button w3-padding-large">HOME</a>
            </section>
            <section id="section-two" class="section scroll-item" title="Two">
                <a href="#band" class="w3-bar-item w3-button w3-padding-large w3-hide-small">GRAPH</a>
            </section>
            <section id="section-three" class="section scroll-item" title="Three">
                <a href="#tour" class="w3-bar-item w3-button w3-padding-large w3-hide-small">MAP</a>
            </section>
            <section id="section-five" class="section scroll-item" title="Five">
                <a href="#contact" class="w3-bar-item w3-button w3-padding-large w3-hide-small">DONATIONS</a>
            </section>

            <a href="javascript:void(0)" class="w3-padding-large w3-hover-red w3-hide-small w3-right"><i class="fa fa-search"></i></a>
        </div>
</div>

<!-- Page content -->
<div class="w3-content" style="max-width:2000px;margin-top:46px">

    <!-- Automatic Slideshow Images -->
    <div class="mySlides w3-display-container w3-center">
        <img src="/w3images/la.jpg" style="width:100%">
        <div class="w3-display-bottommiddle w3-container w3-text-white w3-padding-32 w3-hide-small">
            <h3>Los Angeles</h3>
            <p><b>We had the best time playing at Venice Beach!</b></p>
        </div>
    </div>
    <div class="mySlides w3-display-container w3-center">
        <img src="/w3images/ny.jpg" style="width:100%">
        <div class="w3-display-bottommiddle w3-container w3-text-white w3-padding-32 w3-hide-small">
            <h3>New York</h3>
            <p><b>The atmosphere in New York is lorem ipsum.</b></p>
        </div>
    </div>
    <div class="mySlides w3-display-container w3-center">
        <img src="/w3images/chicago.jpg" style="width:100%">
        <div class="w3-display-bottommiddle w3-container w3-text-white w3-padding-32 w3-hide-small">
            <h3>Chicago</h3>
            <p><b>Thank you, Chicago - A night we won't forget.</b></p>
        </div>
    </div>

    <!-- The Band Section -->
    <div class="w3-container w3-content w3-center w3-padding-64" style="max-width:800px" id="band">
        <h2 class="w3-wide">Toys for Joy</h2>
        <p class="w3-opacity"><i>Connecting communities this holiday season through toys donation for children without access to presents</i></p>
        <p class="w3-justify">We have created a map that locate toys for tots donation locations near you. We hope to connect communities this holiday though collective efforts to provide toys to under privilege children who wouldn't be receiving toys this holiday season otherwise.   </p>
    </div>

    <!-- The Tour Section -->
    <div class="w3-black" id="tour">
        <div class="w3-container w3-content w3-padding-64" style="max-width:800px; height:900px">
            <head>
                <meta name="viewport" content="initial-scale=1.0, width=device-width" />
                <link rel="stylesheet" type="text/css" href="https://js.api.here.com/v3/3.0/mapsjs-ui.css?dp-version=1533195059" />
                <script type="text/javascript" src="https://js.api.here.com/v3/3.0/mapsjs-core.js"></script>
                <script type="text/javascript" src="https://js.api.here.com/v3/3.0/mapsjs-service.js"></script>
                <script type="text/javascript" src="https://js.api.here.com/v3/3.0/mapsjs-ui.js"></script>
                <script type="text/javascript" src="https://js.api.here.com/v3/3.0/mapsjs-mapevents.js"></script>

            </head>
            <body>
            <div id="map" style="width: 100%; height: 400px; background: grey" />
            <script  type="text/javascript" charset="UTF-8" >
                /**
                 * Moves the map to display over Berlin
                 *
                 * @param  {H.Map} map      A HERE Map instance within the application
                 */
                function moveMapToUS(map){
                    map.setCenter({lat:39.381266, lng:-97.922211});
                    map.setZoom(4);
                }
                /**
                 * Boilerplate map initialization code starts below:
                 */
//Step 1: initialize communication with the platform
                var platform = new H.service.Platform({
                    app_id: 'devportal-demo-20180625',
                    app_code: '9v2BkviRwi9Ot26kp2IysQ',
                    useHTTPS: true
                });
                var pixelRatio = window.devicePixelRatio || 1;
                var defaultLayers = platform.createDefaultLayers({
                    tileSize: pixelRatio === 1 ? 256 : 512,
                    ppi: pixelRatio === 1 ? undefined : 320
                });
                //Step 2: initialize a map  - not specificing a location will give a whole world view.
                var map = new H.Map(document.getElementById('map'),
                    defaultLayers.normal.map, {pixelRatio: pixelRatio});
                //Step 3: make the map interactive
                // MapEvents enables the event system
                // Behavior implements default interactions for pan/zoom (also on mobile touch environments)
                var behavior = new H.mapevents.Behavior(new H.mapevents.MapEvents(map));
                // Create the default UI components
                var ui = H.ui.UI.createDefault(map, defaultLayers);
                var icon = new H.map.Icon('teddy_bear_arrow.png');
                // Create a marker using the previously instantiated icon:
                var marker1 = new H.map.Marker({ lat: 39.381266, lng: -97.922211}, { icon: icon });
                var marker2 = new H.map.Marker({ lat: 34.135474, lng: -118.14841}, { icon: icon });
                var marker3 = new H.map.Marker({ lat: 47.536873, lng: -122.33315}, { icon: icon });
                var marker4 = new H.map.Marker({ lat: 30.305149, lng: -97.70626}, { icon: icon });
                var marker5 = new H.map.Marker({ lat: 41.894579, lng: -87.650127}, { icon: icon });
                var marker6 = new H.map.Marker({ lat: 25.820256, lng: -80.254175}, { icon: icon });
                // Add the marker to the map:
                map.addObject(marker1);
                map.addObject(marker2);
                map.addObject(marker3);
                map.addObject(marker4);
                map.addObject(marker5);
                map.addObject(marker6);
                // Now use the map as required...
                moveMapToUS(map);
                /* Install the client from NPM
                npm install clarifai
                // Require the client
                const Clarifai = require('clarifai');
                // initialize with your api key. This will also work in your browser via http://browserify.org/
                const app = new Clarifai.App({
                 apiKey: 'cd0eed6d5e594d9a8d534d4da07dfa61'
                });*/
                /**
                 * Creates a new marker and adds it to a group
                 * @param {H.map.Group} group       The group holding the new marker
                 * @param {H.geo.Point} coordinate  The location of the marker
                 * @param {String} html             Data associated with the marker
                 */
                function addMarkerToGroup(group, coordinate, html) {
                    var marker = new H.map.Marker(coordinate, {icon: icon });
                    // add custom data to the marker
                    marker.setData(html);
                    group.addObject(marker);
                }
                /**
                 * Add two markers showing the position of Liverpool and Manchester City football clubs.
                 * Clicking on a marker opens an infobubble which holds HTML content related to the marker.
                 * @param  {H.Map} map      A HERE Map instance within the application
                 */
                function addInfoBubble(map) {
                    var group = new H.map.Group();
                    map.addObject(group);
                    // add 'tap' event listener, that opens info bubble, to the group
                    group.addEventListener('tap', function (evt) {
                        // event target is the marker itself, group is a parent event target
                        // for all objects that it contains
                        var bubble =  new H.ui.InfoBubble(evt.target.getPosition(), {
                            // read custom data
                            content: evt.target.getData()
                        });
                        // show info bubble
                        ui.addBubble(bubble);
                    }, false);
                    addMarkerToGroup(group, {lat:53.439, lng:-2.221},
                        '<div><a href=\'http://www.mcfc.co.uk\' >Manchester City</a>' +
                        '</div><div >City of Manchester Stadium<br>Capacity: 48,000</div>');
                    addMarkerToGroup(group, {lat:53.430, lng:-2.961},
                        '<div ><a href=\'http://www.liverpoolfc.tv\' >Liverpool</a>' +
                        '</div><div >Anfield<br>Capacity: 45,362</div>');
                }
                /**
                 * Boilerplate map initialization code starts below:
                 */
// initialize communication with the platform
                var platform = new H.service.Platform({
                    app_id: 'devportal-demo-20180625',
                    app_code: '9v2BkviRwi9Ot26kp2IysQ',
                    useHTTPS: true
                });
                var pixelRatio = window.devicePixelRatio || 1;
                var defaultLayers = platform.createDefaultLayers({
                    tileSize: pixelRatio === 1 ? 256 : 512,
                    ppi: pixelRatio === 1 ? undefined : 320
                });
                // initialize a map - this map is centered over Europe
                var map = new H.Map(document.getElementById('map'),
                    defaultLayers.normal.map,{
                        center: {lat: 53.430, lng: -2.961},
                        zoom: 7,
                        pixelRatio: pixelRatio
                    });
                // MapEvents enables the event system
                // Behavior implements default interactions for pan/zoom (also on mobile touch environments)
                var behavior = new H.mapevents.Behavior(new H.mapevents.MapEvents(map));
                // create default UI with layers provided by the platform
                var ui = H.ui.UI.createDefault(map, defaultLayers);
                // Now use the map as required...
                addInfoBubble(map);
            </script>
            </body>
            <!-- <h2 class="w3-wide w3-center">TOUR DATES</h2>
            <p class="w3-opacity w3-center"><i>Remember to book your tickets!</i></p><br>
            <ul class="w3-ul w3-border w3-white w3-text-grey">
              <li class="w3-padding">September <span class="w3-tag w3-red w3-margin-left">Sold out</span></li>
              <li class="w3-padding">October <span class="w3-tag w3-red w3-margin-left">Sold out</span></li>
              <li class="w3-padding">November <span class="w3-badge w3-right w3-margin-right">3</span></li>
            </ul>
            <div class="w3-row-padding w3-padding-32" style="margin:0 -16px">
              <div class="w3-third w3-margin-bottom">
                <img src="/w3images/newyork.jpg" alt="New York" style="width:100%" class="w3-hover-opacity">
                <div class="w3-container w3-white">
                  <p><b>New York</b></p>
                  <p class="w3-opacity">Fri 27 Nov 2016</p>
                  <p>Praesent tincidunt sed tellus ut rutrum sed vitae justo.</p>
                  <button class="w3-button w3-black w3-margin-bottom" onclick="document.getElementById('ticketModal').style.display='block'">Buy Tickets</button>
                </div>
              </div>
              <div class="w3-third w3-margin-bottom">
                <img src="/w3images/paris.jpg" alt="Paris" style="width:100%" class="w3-hover-opacity">
                <div class="w3-container w3-white">
                  <p><b>Paris</b></p>
                  <p class="w3-opacity">Sat 28 Nov 2016</p>
                  <p>Praesent tincidunt sed tellus ut rutrum sed vitae justo.</p>
                  <button class="w3-button w3-black w3-margin-bottom" onclick="document.getElementById('ticketModal').style.display='block'">Buy Tickets</button>
                </div>
              </div>
              <div class="w3-third w3-margin-bottom">
                <img src="/w3images/sanfran.jpg" alt="San Francisco" style="width:100%" class="w3-hover-opacity">
                <div class="w3-container w3-white">
                  <p><b>San Francisco</b></p>
                  <p class="w3-opacity">Sun 29 Nov 2016</p>
                  <p>Praesent tincidunt sed tellus ut rutrum sed vitae justo.</p>
                  <button class="w3-button w3-black w3-margin-bottom" onclick="document.getElementById('ticketModal').style.display='block'">Buy Tickets</button>
                </div>
              </div>
            </div> -->
        </div>
    </div>

    <!-- Ticket Modal -->
    <div id="ticketModal" class="w3-modal">
        <div class="w3-modal-content w3-animate-top w3-card-4">
            <header class="w3-container w3-teal w3-center w3-padding-32">
        <span onclick="document.getElementById('ticketModal').style.display='none'"
              class="w3-button w3-teal w3-xlarge w3-display-topright">×</span>
                <h2 class="w3-wide"><i class="fa fa-suitcase w3-margin-right"></i>Tickets</h2>
            </header>
            <div class="w3-container">
                <p><label><i class="fa fa-shopping-cart"></i> Tickets, $15 per person</label></p>
                <input class="w3-input w3-border" type="text" placeholder="How many?">
                <p><label><i class="fa fa-user"></i> Send To</label></p>
                <input class="w3-input w3-border" type="text" placeholder="Enter email">
                <button class="w3-button w3-block w3-teal w3-padding-16 w3-section w3-right">PAY <i class="fa fa-check"></i></button>
                <button class="w3-button w3-red w3-section" onclick="document.getElementById('ticketModal').style.display='none'">Close <i class="fa fa-remove"></i></button>
                <p class="w3-right">Need <a href="#" class="w3-text-blue">help?</a></p>
            </div>
        </div>
    </div>







    <!-- End Page Content -->
</div>

<!-- Image of location/map -->
<img src="/w3images/map.jpg" class="w3-image w3-greyscale-min" style="width:100%">

<!-- Footer -->
<footer class="w3-container w3-padding-64 w3-center w3-opacity w3-light-grey w3-xlarge">
    <i class="fa fa-facebook-official w3-hover-opacity"></i>
    <i class="fa fa-instagram w3-hover-opacity"></i>
    <i class="fa fa-snapchat w3-hover-opacity"></i>
    <i class="fa fa-pinterest-p w3-hover-opacity"></i>
    <i class="fa fa-twitter w3-hover-opacity"></i>
    <i class="fa fa-linkedin w3-hover-opacity"></i>
    <p class="w3-medium">Powered by <a href="https://www.w3schools.com/w3css/default.asp" target="_blank">w3.css</a></p>
</footer>
<script>
    jQuery(function($) {
        var html = $('html');
        var viewport = $(window);
        var viewportHeight = viewport.height();
        var scrollMenu = $('#section-menu');
        var timeout = null;
        function menuFreeze() {
            if (timeout !== null) {
                scrollMenu.removeClass('freeze');
                clearTimeout(timeout);
            }
            timeout = setTimeout(function() {
                scrollMenu.addClass('freeze');
            }, 2000);
        }
        scrollMenu.mouseover(menuFreeze);
        /* ==========================================================================
           Build the Scroll Menu based on Sections .scroll-item
           ========================================================================== */
        var sectionsHeight = {},
            viewportheight, i = 0;
        var scrollItem = $('.scroll-item');
        var bannerHeight;
        function sectionListen() {
            viewportHeight = viewport.height();
            bannerHeight = (viewportHeight);
            $('.section').addClass('resize');
            scrollItem.each(function() {
                sectionsHeight[this.title] = $(this).offset().top;
            });
        }
        sectionListen();
        viewport.resize(sectionListen);
        viewport.bind('orientationchange', function() {
            sectionListen();
        });
        var count = 0;
        scrollItem.each(function() {
            var anchor = $(this).attr('id');
            var title = $(this).attr('title');
            count++;
            $('#section-menu ul').append('<li><a id="nav_' + title + '" href="#' + anchor + '"><span>' + count + '</span> ' + title + '</a></li>');
        });
        function menuListen() {
            var pos = $(this).scrollTop();
            pos = pos + viewportHeight * 0.625;
            for (i in sectionsHeight) {
                if (sectionsHeight[i] < pos) {
                    $('#section-menu a').removeClass('active');
                    $('#section-menu a#nav_' + i).addClass('active');;
                    var newHash = '#' + $('.scroll-item[title="' + i + '"]').attr('id');
                    if (history.pushState) {
                        history.pushState(null, null, newHash);
                    } else {
                        location.hash = newHash;
                    }
                } else {
                    $('#section-menu a#nav_' + i).removeClass('active');
                    if (pos < viewportHeight - 72) {
                        history.pushState(null, null, ' ');
                    }
                }
            }
        }
        scrollMenu.css('margin-top', scrollMenu.height() / 2 * -1);
        /* ==========================================================================
           Smooth Scroll for Anchor Links and URL refresh
           ========================================================================== */
        scrollMenu.find('a').click(function() {
            var href = $.attr(this, 'href');
            $('html').animate({
                scrollTop: $(href).offset().top
            }, 500, function() {
                window.location.hash = href;
            });
            return false;
        });
        /* ==========================================================================
           Fire functions on Scroll Event
           ========================================================================== */
        function scrollHandler() {
            menuListen();
            menuFreeze();
        }
        scrollHandler();
        viewport.on('scroll', function() {
            scrollHandler();
            //      window.requestAnimationFrame(scrollHandler);
        });
    });
    // Automatic Slideshow - change image every 4 seconds
    var myIndex = 0;
    carousel();
    function carousel() {
        var i;
        var x = document.getElementsByClassName("mySlides");
        for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";
        }
        myIndex++;
        if (myIndex > x.length) {myIndex = 1}
        x[myIndex-1].style.display = "block";
        setTimeout(carousel, 4000);
            x.className += " w3-show";
        } else {
            x.className = x.className.replace(" w3-show", "");
        }
    }
    // When the user clicks anywhere outside of the modal, close it
    var modal = document.getElementById('ticketModal');
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }


</script>

</body>
</html>